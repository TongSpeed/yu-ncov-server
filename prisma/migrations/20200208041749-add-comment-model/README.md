# Migration `20200208041749-add-comment-model`

This migration has been generated by fastspeeed at 2/8/2020, 4:17:49 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP TABLE "quaint"."VirusRecord";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200207231112-add-comment-model..20200208041749-add-comment-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "file:dev.db"
   default  = true
 }
 generator client {
@@ -21,11 +21,8 @@
   nickname            String        @unique
   password            String
   avatar              Boolean       @default(false)
   role                Role          @default(USER)
-  virusRecords        VirusRecord[] @relation(name: "createdByUserWithVirusRecord")
-  updatedVirusRecords VirusRecord[] @relation(name: "updateByUserWithVirusRecord")
-  publicVirusRecords  VirusRecord[] @relation(name: "publishByUserWithVirusRecord")
   createdAt           DateTime      @default(now())
   updatedAt           DateTime      @updatedAt
 }
@@ -116,27 +113,5 @@
   createdAt      DateTime  @default(now())
   updatedAt      DateTime  @updatedAt
-}
-model VirusRecord {
-  id             String    @default(cuid()) @id
-  country        Country
-  virus          VirusInfo
-  province       Province?
-  city           City?
-  area           Area?
-  sourceUrl      String
-  suspectedCount Int?
-  confirmedCount Int?
-  curedCount     Int?
-  deadCount      Int?
-  comment        String?
-  published      Boolean   @default(false)
-  recordAt       DateTime  
-  createdAt      DateTime  @default(now())
-  updatedAt      DateTime  @updatedAt
-  publishedAt    DateTime?  
-  createdBy      User?     @relation(name: "createdByUserWithVirusRecord")
-  updatedBy      User?     @relation(name: "updateByUserWithVirusRecord")
-  publishedBy    User?     @relation(name: "publishByUserWithVirusRecord")
 }
```


