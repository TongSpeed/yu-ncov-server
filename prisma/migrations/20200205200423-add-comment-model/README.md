# Migration `20200205200423-add-comment-model`

This migration has been generated by fastspeeed at 2/5/2020, 8:04:23 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "quaint"."CountryRecord" (
    "confirmedAddCount" INTEGER NOT NULL DEFAULT 0 ,
    "confirmedCount" INTEGER NOT NULL DEFAULT 0 ,
    "country" TEXT NOT NULL  ,
    "createdAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "curedAddCount" INTEGER NOT NULL DEFAULT 0 ,
    "curedCount" INTEGER NOT NULL DEFAULT 0 ,
    "deadAddCount" INTEGER NOT NULL DEFAULT 0 ,
    "deadCount" INTEGER NOT NULL DEFAULT 0 ,
    "id" TEXT NOT NULL  ,
    "recordAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "seriousAddCount" INTEGER NOT NULL DEFAULT 0 ,
    "seriousCount" INTEGER NOT NULL DEFAULT 0 ,
    "sourceUrl" TEXT NOT NULL DEFAULT '' ,
    "suspectedAddCount" INTEGER NOT NULL DEFAULT 0 ,
    "suspectedCount" INTEGER NOT NULL DEFAULT 0 ,
    "updatedAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "virus" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("country") REFERENCES "Country"("id") ON DELETE RESTRICT,
FOREIGN KEY ("virus") REFERENCES "VirusInfo"("id") ON DELETE RESTRICT
) 

CREATE TABLE "quaint"."ProvinceRecord" (
    "confirmedCount" INTEGER NOT NULL DEFAULT 0 ,
    "country" TEXT NOT NULL  ,
    "createdAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "curedCount" INTEGER NOT NULL DEFAULT 0 ,
    "deadCount" INTEGER NOT NULL DEFAULT 0 ,
    "id" TEXT NOT NULL  ,
    "province" TEXT NOT NULL  ,
    "recordAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "sourceUrl" TEXT NOT NULL DEFAULT '' ,
    "suspectedCount" INTEGER NOT NULL DEFAULT 0 ,
    "updatedAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "virus" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("country") REFERENCES "Country"("id") ON DELETE RESTRICT,
FOREIGN KEY ("province") REFERENCES "Province"("id") ON DELETE RESTRICT,
FOREIGN KEY ("virus") REFERENCES "VirusInfo"("id") ON DELETE RESTRICT
) 

CREATE TABLE "quaint"."CityRecord" (
    "city" TEXT NOT NULL  ,
    "confirmedCount" INTEGER NOT NULL DEFAULT 0 ,
    "country" TEXT NOT NULL  ,
    "createdAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "curedCount" INTEGER NOT NULL DEFAULT 0 ,
    "deadCount" INTEGER NOT NULL DEFAULT 0 ,
    "id" TEXT NOT NULL  ,
    "province" TEXT NOT NULL  ,
    "recordAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "sourceUrl" TEXT NOT NULL DEFAULT '' ,
    "suspectedCount" INTEGER NOT NULL DEFAULT 0 ,
    "updatedAt" DATE NOT NULL DEFAULT '1970-01-01 00:00:00' ,
    "virus" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("country") REFERENCES "Country"("id") ON DELETE RESTRICT,
FOREIGN KEY ("province") REFERENCES "Province"("id") ON DELETE RESTRICT,
FOREIGN KEY ("city") REFERENCES "City"("id") ON DELETE RESTRICT,
FOREIGN KEY ("virus") REFERENCES "VirusInfo"("id") ON DELETE RESTRICT
) 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200203230602-add-comment-model..20200205200423-add-comment-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "file:dev.db"
   default  = true
 }
 generator client {
@@ -59,18 +59,67 @@
   id          String @default(cuid()) @id
   title       String @unique
   description String
 }
+model CountryRecord {
+  id             String    @default(cuid()) @id
+  country        Country
+  virus          VirusInfo
+  sourceUrl      String
+  suspectedCount Int
+  confirmedCount Int
+  curedCount     Int
+  deadCount      Int
+  seriousCount   Int
+  suspectedAddCount Int
+  confirmedAddCount Int
+  curedAddCount     Int
+  deadAddCount      Int
+  seriousAddCount   Int
+  recordAt       DateTime  
+  createdAt      DateTime  @default(now())
+  updatedAt      DateTime  @updatedAt
+}
+model ProvinceRecord {
+  id             String    @default(cuid()) @id
+  country        Country
+  province       Province
+  virus          VirusInfo
+  sourceUrl      String
+  suspectedCount Int
+  confirmedCount Int
+  curedCount     Int
+  deadCount      Int
+  recordAt       DateTime  
+  createdAt      DateTime  @default(now())
+  updatedAt      DateTime  @updatedAt
+}
+
+model CityRecord {
+  id             String    @default(cuid()) @id
+  country        Country
+  province       Province
+  city           City
+  virus          VirusInfo
+  sourceUrl      String
+  suspectedCount Int
+  confirmedCount Int
+  curedCount     Int
+  deadCount      Int
+  recordAt       DateTime  
+  createdAt      DateTime  @default(now())
+  updatedAt      DateTime  @updatedAt
+}
 model VirusRecord {
   id             String    @default(cuid()) @id
   country        Country
   virus          VirusInfo
   province       Province?
   city           City?
   area           Area?
+  sourceUrl      String
   suspectedCount Int?
-  sourceUrl          String
   confirmedCount Int?
   curedCount     Int?
   deadCount      Int?
   comment        String?
```


